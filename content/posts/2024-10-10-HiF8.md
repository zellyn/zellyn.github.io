---
title: "The HiF8 8-bit float format"
slug: "hif8"
date: 2024-10-10T00:00:00-04:00
tags: ['float', 'ml']
draft: true
---

I ran across the paper [Ascend HiFloat8 Format for Deep
Learning](https://arxiv.org/pdf/2409.16626), and wanted to visualize
the format.


<!-- make the image wider than the usual 600px in this theme -->
<div style='width:700px;padding:auto;position:relative;left:-75px'>

```pikchr

$rowspace = 1.5

right

F1: box fill lightblue "7" bold
box same "6"
box same "5"
box same "4"
box same "3"
box same "2"
box same "1"
box same "0"

box fill 0xd8ecf3 with nw at F1.sw "sign"
box same width 2*boxwid

text at last box.s "D=4" below
text at boxht south of 9th last box.c "1"
text at boxht south of 8th last box.c "1"

box same as 2nd last box with w at 0cm right of last box.e width 4*boxwid "Exponent"
box same width boxwid "Mantissa"
text at 2nd last box.s "E = ±[8,15]" below
text at last box.s "{1, 1½}" below
text at last text.s "±∞ if E=15, Mantissa field=1" below rjust

F2: box at $rowspace below 1st box fill lightblue "7" bold
box same "6"
box same "5"
box same "4"
box same "3"
box same "2"
box same "1"
box same "0"

box fill 0xd8ecf3 with nw at F2.sw "sign"
box same width 2*boxwid

text at last box.s "D=3" below
text at boxht south of 9th last box.c "1"
text at boxht south of 8th last box.c "0"

box same as 2nd last box with w at 0cm right of last box.e width 3*boxwid "Exponent"
box same width 2*boxwid "Mantissa"
text at 2nd last box.s "E = ±[4,7]" below
text at last box.s "{1, 1¼, 1½, 1¾}" below



F3: box at $rowspace below F2 fill lightblue "7" bold
box same "6"
box same "5"
box same "4"
box same "3"
box same "2"
box same "1"
box same "0"

box fill 0xd8ecf3 with nw at F3.sw "sign"
box same width 2*boxwid

text at last box.s "D=2" below
text at boxht south of 9th last box.c "0"
text at boxht south of 8th last box.c "1"

box same as 2nd last box with w at 0cm right of last box.e width 2*boxwid "Exponent"
box same width 3*boxwid "Mantissa"
text at 2nd last box.s "E = ±[2,3]" below
text at last box.s "{1, 1⅛, 1¼, 1⅜, 1½, 1⅝, 1¾, 1⅞}" below
# text at last box.s "{1, 1.125, 1.25, 1.375, 1.5, 1.625, 1.75, 1.875}" below


F4: box at $rowspace below F3 fill lightblue "7" bold
box same "6"
box same "5"
box same "4"
box same "3"
box same "2"
box same "1"
box same "0"

box fill 0xd8ecf3 with nw at F4.sw "sign"
box same width 3 * boxwid

text at last box.s "D=1" below
text at boxht south of 9th last box.c "0"
text at boxht south of 8th last box.c "0"
text at boxht south of 7th last box.c "1"

box same as 2nd last box with w at 0cm right of last box.e "Exponent"
box same width 3*boxwid "Mantissa"
text at 2nd last box.s "E = ±1" below
text at last box.s "{1, 1⅛, 1¼, 1⅜, 1½, 1⅝, 1¾, 1⅞}" below


F5: box at $rowspace below F4 fill lightblue "7" bold
box same "6"
box same "5"
box same "4"
box same "3"
box same "2"
box same "1"
box same "0"

box fill 0xd8ecf3 with nw at F5.sw "sign"
box same width 4*boxwid

text at last box.s "D=0" below
text at boxht south of 9th last box.c "0"
text at boxht south of 8th last box.c "0"
text at boxht south of 7th last box.c "0"
text at boxht south of 6th last box.c "1"

box same as 2nd last box with w at 0cm right of last box.e width 3*boxwid "Mantissa"
text at last box.sw "E = 0" below
text at last box.s "{1, 1⅛, 1¼, 1⅜, 1½, 1⅝, 1¾, 1⅞}" below


F6: box at $rowspace below F5 fill lightblue "7" bold
box same "6"
box same "5"
box same "4"
box same "3"
box same "2"
box same "1"
box same "0"

box fill 0xd8ecf3 with nw at F6.sw "sign"
box same width 4*boxwid

text at last box.s "D=DML" below
text at boxht south of 9th last box.c "0"
text at boxht south of 8th last box.c "0"
text at boxht south of 7th last box.c "0"
text at boxht south of 6th last box.c "0"

box same as 2nd last box with w at 0cm right of last box.e width 3*boxwid "0; NaN; 2⁻¹⁶, 2⁻¹⁷, ..., 2⁻²²"
text at last box.s "?" below


```

</div>
