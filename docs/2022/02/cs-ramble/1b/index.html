<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Zellyn&#39;s Website">
    
    <link rel="shortcut icon" href="https://zellyn.com/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.min.css">

    <title>CS Ramble — Set 1b - memory, text, numbers</title>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script>
      MathJax = {
        tex: {
          displayMath: [['\\[', '\\]'], ['$$', '$$']],  
          inlineMath: [['\\(', '\\)']]                  
        }
      };
    </script>

    
</head>
<body><header id="banner">
    <h2><a href="https://zellyn.com/">Zellyn Hunter</a></h2>
    <nav>
        <ul>
            <li>
                <a href="/page/projects/todo" title="projects">projects</a>
            </li><li>
                <a href="/about/" title="about">about</a>
            </li>
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>CS Ramble — Set 1b - memory, text, numbers</h1>
            <div>
                <time>February 3, 2022</time>
                </div>
    </header><p><em>This is post is part of <a href="../1a/">set 1</a> of <a href="../">A Ramble Around
CS</a>.</em></p>
<h1 id="computer-memory">Computer memory</h1>
<p>You can imagine all your computer&rsquo;s memory as a series of little boxes,
numbered from 0 (because we&rsquo;re computer people), and going up, and up,
and up. The laptop I&rsquo;m typing this on has 32MB of memory, or
34,359,738,368 little boxes!<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<pre tabindex="0"><code class="language-pikchr" data-lang="pikchr">boxwid /=4
boxht /= 2
box fill lightblue
box same
box same
box same
box same
box same
box same
box same
box same
box same
box same
box same

move width boxwid*2

box same //  &#34;34,359,738,367&#34; above

text at last move &#34;· · ·&#34; big bold

text at 1st box.n &#34;0&#34; above
text at 2nd box.n &#34;1&#34; above
text at 3rd box.n &#34;2&#34; above
text at 4th box.n &#34;3&#34; above
text at 5th box.n &#34;4&#34; above
text at 6th box.n &#34;5&#34; above
text at 7th box.n &#34;6&#34; above
text at 8th box.n &#34;7&#34; above
text at 9th box.n &#34;8&#34; above
text at 10th box.n &#34;9&#34; above
text at 11th box.n &#34;10&#34; above
text at 12th box.n &#34;11&#34; above
text at 13th box.nw &#34;34,359,738,367&#34; above ljust
</code></pre><p>We&rsquo;ll get into “bits” and “bytes” and counting in “binary” later, but
for now, let&rsquo;s just take it as given that each of those boxes holds a
single “byte”: a number from 0 to 255.</p>
<h1 id="text">Text</h1>
<p>If we want to store letters in the boxes, we have to come up with some
kind of “<a href="https://en.wikipedia.org/wiki/Character_encoding">Character
Encoding</a>”,
assigning a number to each letter.</p>
<p><em>I&rsquo;d use 1 for “A”, 2 for “B”, &hellip;, except it&rsquo;s probably better to
just jump straight to the actual numbers your computer (usually) uses
(called “<a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a>”<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>) so we get used
to seeing the real numbers:</em></p>
<pre tabindex="0"><code class="language-pikchr" data-lang="pikchr">right
text &#34;“Hello, world”&#34;
arrow from last text.e - (0.12,0) width linewid/2

box width 0.5 * linewid height 0.5*linewid fill lightblue &#34;H&#34; bold
box same &#34;e&#34; bold
box same &#34;l&#34; bold
box same &#34;l&#34; bold
box same &#34;o&#34; bold
box same &#34;,&#34; bold
box same &#34;␣&#34;
box same &#34;w&#34; bold
box same &#34;o&#34; bold
box same &#34;r&#34; bold
box same &#34;l&#34; bold
box same &#34;d&#34; bold

box fill 0xd8ecf3 with n at 1st box.s height H.height width H.width &#34;72&#34;
box same &#34;101&#34;
box same &#34;108&#34;
box same &#34;108&#34;
box same &#34;111&#34;
box same &#34;44&#34;
box same &#34;32&#34;
box same &#34;119&#34;
box same &#34;111&#34;
box same &#34;114&#34;
box same &#34;108&#34;
box same &#34;100&#34;

text at 1st box.n &#34;0&#34; above
text at 2nd box.n &#34;1&#34; above
text at 3rd box.n &#34;2&#34; above
text at 4th box.n &#34;3&#34; above
text at 5th box.n &#34;4&#34; above
text at 6th box.n &#34;5&#34; above
text at 7th box.n &#34;6&#34; above
text at 8th box.n &#34;7&#34; above
text at 9th box.n &#34;8&#34; above
text at 10th box.n &#34;9&#34; above
text at 11th box.n &#34;10&#34; above
text at 12th box.n &#34;11&#34; above
</code></pre><h1 id="numbers">Numbers</h1>
<p>Storing numbers in the boxes is easy if they&rsquo;re between 0 and
255. Just stick them in there!</p>
<pre tabindex="0"><code class="language-pikchr" data-lang="pikchr">box width 0.5 * linewid height 0.5*linewid fill lightblue &#34;42&#34; bold
box same &#34;17&#34; bold
box same &#34;0&#34; bold
box same &#34;255&#34; bold

text at 1st box.n &#34;0&#34; above
text at 2nd box.n &#34;1&#34; above
text at 3rd box.n &#34;2&#34; above
text at 4th box.n &#34;3&#34; above
</code></pre><p>For negative numbers, we pretend some of the numbers are
negative:</p>
<pre tabindex="0"><code class="language-pikchr" data-lang="pikchr">down
box width linewid height 0.5*linewid &#34;0&#34;
box same &#34;1&#34;
box same &#34;2&#34;
text  &#34;⋮&#34;
box same &#34;126&#34;
box same &#34;127&#34;
box same &#34;128&#34;
box same &#34;129&#34;
box same &#34;130&#34;
text &#34;⋮&#34;
box same &#34;253&#34;
box same &#34;254&#34;
box same &#34;255&#34;

text at 1st box.n &#34;Value&#34; bold above

I1: box same as 1st box with w at 1st box.e + (0.5*linewid,0) &#34;0&#34;
box same &#34;1&#34;
box same &#34;2&#34;
text  &#34;⋮&#34;
box same &#34;126&#34;
box same &#34;127&#34;
box same &#34;-128&#34;
box same &#34;-127&#34;
box same &#34;-126&#34;
text &#34;⋮&#34;
box same &#34;-3&#34;
box same &#34;-2&#34;
box same &#34;-1&#34;

text at I1.n &#34;Interpretation&#34; bold above
</code></pre><p>Probably, it&rsquo;s better to think of it in
<a href="https://www.youtube.com/watch?v=5OjZWSdxlU0">modular</a>
(<a href="http://math.ucdenver.edu/~wcherowi/clockar.html">clock</a>) arithmetic:</p>
<pre tabindex="0"><code class="language-pikchr" data-lang="pikchr">circle radius 1.5 fill 0xd8ecf3

define $inner {
  line from (0,0) then 1.3 heading $1 invisible
  text at last line.end $2
}

define $outer {
  line from (0,0) then 1.65 heading $1 invisible
  text at last line.end $2
}

$inner(0, &#34;0&#34;); $outer(0, &#34;0&#34; bold)
$inner(15, &#34;1&#34;); $outer(15, &#34;1&#34; bold)
$inner(30, &#34;2&#34;); $outer(30, &#34;2&#34; bold)
$inner(45, &#34;3&#34;); $outer(45, &#34;3&#34; bold)
$inner(60, &#34;4&#34;); $outer(60, &#34;4&#34; bold)
$inner(75, &#34;·&#34; bold); $inner(73, &#34;·&#34; bold); $inner(71, &#34;·&#34; bold)
$outer(75, &#34;·&#34; bold); $outer(73, &#34;·&#34; bold); $outer(71, &#34;·&#34; bold)
$inner(345, &#34;255&#34;); $outer(345, &#34;-1&#34; bold)
$inner(330, &#34;254&#34;); $outer(330, &#34;-2&#34; bold)
$inner(315, &#34;253&#34;); $outer(315, &#34;-3&#34; bold)
$inner(300, &#34;252&#34;); $outer(300, &#34;-4&#34; bold)
$inner(285, &#34;·&#34; bold); $inner(287, &#34;·&#34; bold); $inner(289, &#34;·&#34; bold)
$outer(285, &#34;·&#34; bold); $outer(287, &#34;·&#34; bold); $outer(289, &#34;·&#34; bold)

$inner(135, &#34;·&#34; bold); $inner(137, &#34;·&#34; bold); $inner(139, &#34;·&#34; bold)
$outer(135, &#34;·&#34; bold); $outer(137, &#34;·&#34; bold); $outer(139, &#34;·&#34; bold)
$inner(150, &#34;126&#34;); $outer(150, &#34;126&#34; bold)
$inner(165, &#34;127&#34;); $outer(165, &#34;127&#34; bold)
$inner(180, &#34;128&#34;); $outer(180, &#34;-128&#34; bold)
$inner(195, &#34;129&#34;); $outer(195, &#34;-127&#34; bold)
$inner(210, &#34;130&#34;); $outer(210, &#34;-126&#34; bold)
$inner(225, &#34;·&#34; bold); $inner(223, &#34;·&#34; bold); $inner(221, &#34;·&#34; bold)
$outer(225, &#34;·&#34; bold); $outer(223, &#34;·&#34; bold); $outer(221, &#34;·&#34; bold)


text at (0, 1) &#34;Value&#34; big bold
text at (0, 1.9) &#34;Interpretation&#34; big bold
text at (0,0) &#34;Signed interpretation&#34; italic &#34;of byte values&#34; italic
</code></pre><p>Since there are 256 spots in a full circle, going 255 spaces clockwise
(adding 255) is the same as going one space counter-clockwise
(subtracting 1).</p>
<p>But that still only gives us 256 different values.</p>
<h2 id="bigger-numbers">Bigger numbers</h2>
<p>For bigger numbers, we&rsquo;ll have to combine pairs of bytes, or groups of
4 or 8 (or more) bytes.</p>
<p>In normal arabic numerals, we have <strong>ten</strong> choices, 0–9, and then
spill over to the next space, whose value is multiplied by <strong>ten</strong>.</p>
<p>We can do the same with bytes: we have <strong>256</strong> choices, 0–255, and
then spill over to the next space, whose value is multiplied by
<strong>256</strong>.</p>
<pre tabindex="0"><code class="language-pikchr" data-lang="pikchr">down
box width linewid height 0.5*linewid &#34;0&#34;
box same &#34;1&#34;
box same &#34;2&#34;
text  &#34;⋮&#34;
box same &#34;254&#34;
box same &#34;255&#34;
box same &#34;256&#34;
box same &#34;257&#34;
box same &#34;258&#34;
text  &#34;⋮&#34;
box same &#34;65534&#34;
box same &#34;65535&#34;

text at 1st box.n &#34;Value&#34; bold &#34;&#34; &#34;&#34; &#34;&#34;

I1: box same as 1st box with w at 1st box.e + (0.5*linewid,0) width 0.25 fill 0xd8ecf3 &#34;0&#34;
box same &#34;0&#34;
box same &#34;0&#34;
text  &#34;⋮&#34;
box same &#34;0&#34;
box same &#34;0&#34;
box same &#34;1&#34;
box same &#34;1&#34;
box same &#34;1&#34;
text  &#34;⋮&#34;
box same &#34;255&#34;
box same &#34;255&#34;

I2: box same as I1 with w at I1.e &#34;0&#34;
box same &#34;1&#34;
box same &#34;2&#34;
text  &#34;⋮&#34;
box same &#34;254&#34;
box same &#34;255&#34;
box same &#34;0&#34;
box same &#34;1&#34;
box same &#34;2&#34;
text  &#34;⋮&#34;
box same &#34;254&#34;
box same &#34;255&#34;

text at I1.ne &#34;Representation&#34; bold &#34;as 2 bytes&#34; bold &#34;&#34; &#34;&#34;
</code></pre><p>So, <code>255 = 0×256 + 255</code>, and <code>258 = 1×256 + 2</code>. I&rsquo;ve put the “×256”
byte first, to match how in the number “12”, the “×10” digit goes
first. Which byte you put first is a choice, and most current
computers actually put the littlest byte first and the “×256” byte
second. This is called “little-endian”, because the littlest byte
comes first. The opposite
“<a href="https://en.wikipedia.org/wiki/Endianness">endianness</a>” is of course
“big-endian”. When you&rsquo;re storing things on disk, or <a href="https://hackaday.com/2015/12/12/raspberry-pi-communication-via-laser/">sending numbers
to a Raspberry Pi with a
laser</a>,
you can pick your own endianness!</p>
<p>Just like with individual bytes, you can use half the space for
negative numbers, and turn the range 0…65535 into -32768…32767.</p>
<h2 id="a-note-on-names-for-things">A note on names for things</h2>
<p>All of these things have multiple names you might run into:</p>
<table>
<thead>
<tr>
<th style="text-align:center">Bytes </th>
<th style="text-align:center"> Signed?</th>
<th style="text-align:center">Min</th>
<th style="text-align:center">Max</th>
<th style="text-align:left"> Common names</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">255</td>
<td style="text-align:left"><code>(unsigned)</code> <em><code>byte</code></em>, <code>(unsigned)</code> <em><code>char</code></em>, <code>uint8</code></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">-128</td>
<td style="text-align:center">127</td>
<td style="text-align:left"><code>(signed)</code> <em><code>char</code></em>, <em><code>byte</code></em>, <code>int8</code></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">65535</td>
<td style="text-align:left"><em><code>unsigned int</code></em>, <code>unsigned short</code>, <code>uint16</code></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">-32768</td>
<td style="text-align:center">32767</td>
<td style="text-align:left"><em><code>int</code></em>, <code>short</code>, <code>int16</code></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">2³²-1</td>
<td style="text-align:left"><em><code>unsigned int</code></em>, <em><code>unsigned long</code></em>, <code>uint32</code></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">-2³¹</td>
<td style="text-align:center">2³¹-1</td>
<td style="text-align:left"><em><code>int</code></em>, <em><code>long</code></em>, <code>int32</code>, <code>rune</code></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">2⁶⁴-1</td>
<td style="text-align:left"><em><code>unsigned long</code></em>, <code>uint64</code>, <em><code>uint</code></em></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">✓</td>
<td style="text-align:center">-2⁶³</td>
<td style="text-align:center">2⁶³-1</td>
<td style="text-align:left"><em><code>long</code></em>, <code>int64</code>, <em><code>int</code></em></td>
</tr>
</tbody>
</table>
<p>Note that many of the terms are ambiguous, between programming
languages, or even between computers.  In Go, for example, “int” can
mean 32 or 64 bits, depending on whether your computer is running in
32- or 64-bit mode. I&rsquo;ve marked ambiguous names in <em><code>italics</code></em>.</p>
<p><em>In the <a href="../1c/">next part</a>, we&rsquo;ll discuss how your program&rsquo;s
variables point to things in memory.</em></p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>That&rsquo;s 32×1024×1024×1024. 1024 bytes is a “kilobyte”, because
1024 is close to 1000, 1024×1024=1048576 bytes is a
“megabyte”, because it&rsquo;s close to a million bytes, and
1024×1024×1024=1073741824 bytes is a “gigabyte”.<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Technically, according to the <a href="https://en.wikipedia.org/wiki/Metric_prefix">SI
prefixes</a>, a
“kilobyte” (KB) is exactly 1000 bytes, and you should use
“kibibyte” (KiB) to refer to 1024 bytes. Since “kibibyte” sounds
more like a Pokémon or a kind of dog food for small, yappy dogs,
<em>nobody</em> uses it. Except hard disk manufacturers, who insist on
using exact powers of 10 to make their hard disks sound 10%
bigger (for terabytes) than they really are.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>If you&rsquo;re on Linux or MacOS, you can type <code>man ascii</code> in your
terminal to see a list of ASCII codes. Ignore the hexadecimal (for
now) and octal (forever) sections; the decimal section at the bottom
is useful.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
</article>

        </main><footer id="footer">
    
</footer>
</body>
</html>
